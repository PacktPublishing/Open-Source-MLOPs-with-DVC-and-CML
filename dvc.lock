schema: '2.0'
stages:
  process_data:
    cmd: python3 process_data.py
    deps:
    - path: data/IMDB_movie_ratings_sentiment.csv
      md5: 6efb5da809df99140316dd09dbb42078
      size: 52724248
    - path: process_data.py
      md5: 6e6b2bd6586ad2315164fc65b7f46241
      size: 1770
    params:
      params.yaml:
        data_path: data/IMDB_movie_ratings_sentiment.csv
        output_path: data/processed/
        process:
          test_size: 0.1
    outs:
    - path: data/processed/X_test.txt
      md5: 8d8d4c0cf9fe50f69421f95658f99245
      size: 5209391
    - path: data/processed/X_train.txt
      md5: e26eb5b80dbb50309e6d751d1bd8d0ff
      size: 47251732
    - path: data/processed/y_test.txt
      md5: 0d1363e3656efa2275cb92a2d0a5c6d2
      size: 8000
    - path: data/processed/y_train.txt
      md5: 7d68369771e0e8db1fc96f1568a93391
      size: 72000
  train:
    cmd: python3 train_sklearn.py
    deps:
    - path: data/processed/X_test.txt
      md5: 8d8d4c0cf9fe50f69421f95658f99245
      size: 5209391
    - path: data/processed/X_train.txt
      md5: e26eb5b80dbb50309e6d751d1bd8d0ff
      size: 47251732
    - path: data/processed/y_test.txt
      md5: 0d1363e3656efa2275cb92a2d0a5c6d2
      size: 8000
    - path: data/processed/y_train.txt
      md5: 7d68369771e0e8db1fc96f1568a93391
      size: 72000
    - path: train_sklearn.py
      md5: 5e054ee49ad2a95bf43d8c8ed2a650a5
      size: 2937
    params:
      params.yaml:
        model_path: models/model.joblib
        output_path: data/processed/
        train:
          min_df: 5
          max_df: 0.5
          max_ngrams: 2
          stopwords: english
          loss: hinge
          learning_rate: 0.0001
          metrics_path: results/metrics.json
    outs:
    - path: models/model.joblib
      md5: b09b704e63c38a6a1ca6f436d37632b9
      size: 41964286
    - path: results/metrics.json
      md5: 43a932f10486c69ac13f6c4ef1f39743
      size: 18
